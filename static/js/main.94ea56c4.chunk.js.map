{"version":3,"sources":["services/Role/RoleService.js","config/config.js","services/Path/PathService.js","services/App/AppService.js","services/ToolBar/ToolBarService.js","components/ToolBar/ToolBarItem/ToolBarItem.js","components/ToolBar/ToolBarBrandItem/ToolBarBrandItem.js","components/ToolBar/ToolBarLogOutItem/ToolBarLogOutItem.js","components/StatusBar/StatusBar.js","components/ToolBar/ToolBar/ToolBar.js","contexts/UserDetailsContext.js","components/NavigationBreadcrumb/NavigationBreadcrumb.js","components/DefaultPage/DefaultPage.js","components/Panel/Panel.js","handlers/responseHandlers.js","utils/headers.js","services/Api/ApiService.js","handlers/errorHandlers.js","services/Auth/AuthService.js","contexts/PathServiceContext.js","components/RouteWrapper/RouteWrapper.js","components/LoginForm/LoginForm.js","components/ClientCard/ClientCard.js","components/RowDataContainer/RowDataTransformer.js","components/Loader/Loader.js","components/Error/Error.js","components/WithDataWrapper/WithDataWrapper.js","components/ClientsPage/ClientsPage.js","components/HomePage/HomePage.js","components/ClientInfo/WithClientInfoWrapper.js","components/ClientInfo/ClientGeneralInfo.js","components/ClientInfo/ClientAddressInfo.js","components/ClientInfo/ClientPaymentInfo.js","components/TooltipWrapper/TooltipWrapper.js","components/ButtonBar/ButtonBar.js","components/AlertSuccess/AlertSuccess.js","components/ClientDetailsForm/ClientDetailsForm.js","components/ClientDetails/ClientDetails.js","components/App/App.js","index.js","components/Loader/Dual Ball-0.9s-200px.svg"],"names":["anonymous","_ROLES","admin","manager","isRoleValid","role","Object","values","includes","getUserIcon","userRole","this","faUser","faUserSecret","faUserTie","CLIENT_VERSION","pjson","version","HOME_PAGE","dependencies","react","homepage","APP_NAME","name","HOME_PATH","parts","split","length","_getHomePath","_PATH_DATA","HOME","path","roles","RoleService","CLIENTS","CLIENT","OPERATIONS","WORKERS","CALENDAR","SETTINGS","LOGIN","home","clients","client","operations","workers","calendar","settings","login","breadcrumbs","label","href","id","title","isPathExists","some","it","isPathActive","targetPath","activePath","rootPath","match","toolBarService","getToolBarLogOutItemProps","onLogOut","faIcon","faSignOutAlt","onClick","className","getTopToolBarItems","ids","items","PathService","faHome","faWallet","faBox","faCalendarAlt","filterItemsByIds","getBottomToolBarItems","faCog","forceShowIcon","filter","getToolBarProps","isAuthenticated","userDetails","appInfo","logoutHandler","topItems","bottomItems","logOutItemProps","brandItemProps","appName","toLowerCase","statusBarProps","getLoginFormProps","loginHandler","inputChangeHandler","error","onSubmit","getInitialUserDetails","username","password","isProdEnv","process","ToolBarItem","isActive","to","classNames","icon","ToolBarBrandItem","ToolBarLogOutItem","StatusBar","ToolBar","props","useLocation","pathname","transformToolBarItems","toolBarItems","map","itemProps","key","UserDetailsContext","createContext","NavigationBreadcrumb","transformedItems","i","Breadcrumb","Item","active","linkAs","Link","linkProps","DefaultPage","breadcrumbItems","children","faCheck","Panel","checkResponseStatus","response","status","json","Error","statusText","loginResponseHandler","Auth","writeToken","window","location","headers","localStorage","auth","JSON","parse","access_token","testConnection","setConnected","showLoader","delay","console","log","testConnectionInternal","fetch","buildUri","then","catch","setTimeout","pathNames","refreshToken","getClients","_getResource","getClient","saveClient","fetchWrapper","method","body","stringify","updateClient","serverUrl","uri","a","init","ok","defaultErrorHandler","handler","call","ApiService","URI_LOGIN","URI_REFRESH_TOKEN","getRole","authObject","anonymousRole","Array","isArray","removeToken","checkIsTokenExists","qs","grant_type","refresh_token","checkAuthEndpoint","PathServiceContext","RouteWrapper","rest","useContext","render","isRoleAppropriate","state","from","defaultProps","LoginForm","recoverPasswordPathname","onInputChange","Form","Group","controlId","Label","Control","type","value","onChange","autoComplete","placeholder","Text","Button","variant","e","preventDefault","ClientCard","shortName","paymentInfo","webSite","phone","email","payerAccountNumber","RowDataTransformer","data","CardComponent","resultArr","dataArrCopy","push","splice","reshapeDataArr","row","Row","col","Col","lg","transformDataArr","Loader","src","loaderIcon","alt","text","redirectPath","Alert","Heading","faExclamationCircle","WithDataWrapper","getData","filterData","Component","useState","setData","hasLoaded","setLoaded","hasError","setError","useParams","onSuccess","onError","useEffect","reload","ClientsPage","HomePage","Jumbotron","WithClientInfoWrapper","buildId","postfix","prefix","ClientGeneralInfo","readonly","as","required","disabled","fullName","fax","ClientAddressInfo","countries","countryList","addressString","city","countryISO2code","postcode","ClientPaymentInfo","bankName","bankIdentificationCode","checkingAccountNumber","TooltipWrapper","placement","show","hide","OverlayTrigger","overlay","Tooltip","Math","round","random","ButtonBar","buttons","ButtonGroup","aria-label","btn","tooltip","AlertSuccess","setShow","onClose","dismissible","ClientDetailsForm","onMount","modes","edit","create","generalInfo","setGeneralInfo","legalAddress","legalAddressInfo","setLegalAddressInfo","mailingAddress","mailingAddressInfo","setMailingAddressInfo","setPaymentInfo","mode","setMode","showAlertSuccess","setShowAlertSuccess","isShowMode","modeName","equals","obj1","obj2","entries","toString","onSubmitWrapper","scrollTo","debug","isEditMode","onCancel","target","object","hasOwnProperty","objectCopy","faPen","faTrashAlt","faSave","faBan","copy","ClientDetails","setTitle","setBreadcrumbItems","breadcrumbItemsCopy","indexOfLastElement","App","AppService","setUserDetails","setAuthenticated","isAuthCheckPerformed","setAuthCheckPerformed","setUserRole","AuthService","message","Provider","event","newUserDetails","exact","dataArr","sort","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.94ea56c4.chunk.js","sourcesContent":["import {faUser, faUserSecret, faUserTie} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default {\n    anonymous: () => _ROLES.anonymous,\n    admin: () => _ROLES.admin,\n    manager: () => _ROLES.manager,\n\n    isRoleValid: role =>\n        Object.values(_ROLES).includes(role),\n\n    getUserIcon(userRole) {\n        switch (userRole) {\n            case this.anonymous():\n                return faUser\n            case this.admin():\n                return faUserSecret\n            case this.manager():\n                return faUserTie\n            default: {\n                return faUser\n            }\n        }\n    }\n}\n\nconst _ROLES = {\n    anonymous: 'ROLE_ANONYMOUS',\n    admin: 'ROLE_ADMIN',\n    manager: 'ROLE_MANAGER',\n}","import pjson from '../../package.json';\n\nexport const SERVER_URL = 'http://localhost:8080';\nexport const CLIENT_VERSION = pjson.version;\nexport const REACT_VERSION = pjson.dependencies.react;\nexport const HOME_PAGE = pjson.homepage;\nexport const APP_NAME = pjson.name;\n","import RoleService from \"../Role/RoleService\";\nimport {APP_NAME, HOME_PAGE} from \"../../config/config\";\n\nconst _getHomePath = () => {\n    const parts = HOME_PAGE.split('/');\n    return parts && parts.length > 0 ?\n        parts[parts.length - 1] : APP_NAME\n}\n\nconst HOME_PATH = `/${_getHomePath()}`;\n\nconst _PATH_DATA = {\n    HOME: {\n        path: HOME_PATH,\n        roles: [\n            RoleService.admin(),\n            RoleService.manager(),\n            RoleService.anonymous(),\n        ],\n    },\n    CLIENTS: {\n        path: HOME_PATH + \"/clients/\",\n        roles: [\n            RoleService.admin(),\n            RoleService.manager(),\n        ],\n    },\n    CLIENT: {\n        path: HOME_PATH + \"/clients/:id\",\n        roles: [\n            RoleService.admin(),\n            RoleService.manager(),\n        ],\n    },\n    OPERATIONS: {\n        path: HOME_PATH + \"/operations/\",\n        roles: [\n            RoleService.admin(),\n            RoleService.manager(),\n        ],\n    },\n    WORKERS: {\n        path: HOME_PATH + \"/workers/\",\n        roles: [\n            RoleService.admin(),\n            RoleService.manager(),\n        ],\n    },\n    CALENDAR: {\n        path: HOME_PATH + \"/calendar/\",\n        roles: [\n            RoleService.admin(),\n            RoleService.manager()\n        ]\n    },\n    SETTINGS: {\n        path: HOME_PATH + \"/settings\",\n        roles: [\n            RoleService.admin(),\n            RoleService.manager(),\n        ],\n    },\n    LOGIN: {\n        path: HOME_PATH + \"/login\",\n        roles: [\n            RoleService.admin(),\n            RoleService.manager(),\n            RoleService.anonymous(),\n        ],\n    },\n}\n\nconst _isPathExists = path =>\n    Object.values(_PATH_DATA).some(it => it.path === path)\n\n\nexport default {\n    home: () => _PATH_DATA.HOME.path,\n    clients: () => _PATH_DATA.CLIENTS.path,\n    client: () => _PATH_DATA.CLIENT.path,\n    operations: () => _PATH_DATA.OPERATIONS.path,\n    workers: () => _PATH_DATA.WORKERS.path,\n    calendar: () => _PATH_DATA.WORKERS.path,\n    settings: () => _PATH_DATA.SETTINGS.path,\n    login: () => _PATH_DATA.LOGIN.path,\n\n    roles: () => {\n        return {\n            home: () => _PATH_DATA.HOME.roles,\n            clients: () => _PATH_DATA.CLIENTS.roles,\n            client: () => _PATH_DATA.CLIENT.roles,\n            operations: () => _PATH_DATA.OPERATIONS.roles,\n            workers: () => _PATH_DATA.WORKERS.roles,\n            calendar: () => _PATH_DATA.WORKERS.roles,\n            settings: () => _PATH_DATA.SETTINGS.roles,\n            login: () => _PATH_DATA.LOGIN.roles,\n        }\n    },\n\n    breadcrumbs: () => {\n        return {\n            home: () => {\n                return {\n                    label: 'Главная',\n                    href: _PATH_DATA.HOME.path,\n                }\n            },\n            clients: () => {\n                return {\n                    label: 'Клиенты',\n                    href: _PATH_DATA.CLIENTS.path,\n                }\n            },\n            client: (id, title) => {\n                return {\n                    label: title,\n                    href: _PATH_DATA.HOME.path + id,\n                }\n            },\n            operations: () => {\n                return {\n                    label: 'Операции',\n                    href: _PATH_DATA.OPERATIONS.path,\n                }\n            },\n            workers: () => {\n                return {\n                    label: 'Сотрудники',\n                    href: _PATH_DATA.WORKERS.path,\n                }\n            },\n            calendar: () => {\n                return {\n                    label: 'Календарь',\n                    href: _PATH_DATA.CALENDAR.path,\n                }\n            },\n            settings: () => {\n                return {\n                    label: 'Настройки',\n                    href: _PATH_DATA.SETTINGS.path,\n                }\n            }\n        }\n    },\n\n    isPathExists: _isPathExists,\n\n    isPathActive: (targetPath, activePath, rootPath = HOME_PATH) => {\n        const match = activePath.match(targetPath)\n        return match && (activePath === rootPath ? true : match[0] !== rootPath)\n    },\n}","import PathService from \"../Path/PathService\";\nimport ToolBarService from \"../ToolBar/ToolBarService\";\nimport RoleService from \"../Role/RoleService\";\n\nconst toolBarService = new ToolBarService();\n\nexport default {\n    getToolBarProps(isAuthenticated, userDetails, appInfo, logoutHandler) {\n        const topItems = toolBarService.getTopToolBarItems(userDetails.role)\n        const bottomItems = toolBarService.getBottomToolBarItems(userDetails.role)\n        const logOutItemProps = toolBarService.getToolBarLogOutItemProps(logoutHandler)\n\n        return {\n            brandItemProps: {\n                appName: appInfo.name.toLowerCase(),\n            },\n            logOutItemProps,\n            topItems,\n            bottomItems,\n            isAuthenticated,\n            statusBarProps: {\n                appInfo,\n            },\n            isPathActive: PathService.isPathActive\n        }\n    },\n\n    getLoginFormProps(userDetails, loginHandler, inputChangeHandler) {\n        return {\n            userDetails: userDetails,\n            error: null,\n            onSubmit: loginHandler,\n            inputChangeHandler: inputChangeHandler\n        }\n    },\n\n    getInitialUserDetails() {\n        return {\n            username: '',\n            password: '',\n            role: RoleService.anonymous()\n        }\n    },\n\n    isProdEnv() {\n        return !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n    }\n}","import {\n    faBox,\n    faCalendarAlt,\n    faCog,\n    faHome,\n    faSignOutAlt,\n    faUserTie,\n    faWallet\n} from \"@fortawesome/free-solid-svg-icons\";\nimport PathService from \"../Path/PathService\";\nimport RoleService from \"../Role/RoleService\";\n\nexport default class ToolBarService {\n    getToolBarLogOutItemProps = (onLogOut, label = 'Выйти') => {\n        return {\n            id: 'logout',\n            label,\n            faIcon: faSignOutAlt,\n            onClick: onLogOut,\n            className: 'text-danger',\n        }\n    };\n\n    getTopToolBarItems = (role) => {\n        const ids = {\n            HOME: 'home',\n            CLIENTS: 'clients',\n            OPERATIONS: 'operations',\n            WORKERS: 'workers',\n            CALENDAR: 'calendar',\n        }\n\n        const items = [\n            {\n                id: ids.HOME,\n                label: 'Главная',\n                href: PathService.home(),\n                faIcon: faHome,\n            },\n            {\n                id: ids.CLIENTS,\n                label: 'Клиенты',\n                href: PathService.clients(),\n                faIcon: faWallet,\n            },\n            {\n                id: ids.OPERATIONS,\n                label: 'Операции',\n                href: PathService.operations(),\n                faIcon: faBox,\n            },\n            {\n                id: ids.WORKERS,\n                label: 'Сотрудники',\n                href: PathService.workers(),\n                faIcon: faUserTie,\n            },\n            {\n                id: ids.CALENDAR,\n                label: 'Календарь',\n                href: PathService.calendar(),\n                faIcon: faCalendarAlt,\n            },\n        ];\n\n        switch (role) {\n            case RoleService.admin():\n                return this.filterItemsByIds(items,\n                    ids.HOME,\n                    ids.CLIENTS,\n                    ids.OPERATIONS,\n                    ids.WORKERS)\n            case RoleService.manager():\n                return this.filterItemsByIds(items,\n                    ids.HOME,\n                    ids.CLIENTS,\n                    ids.CALENDAR,\n                    ids.OPERATIONS)\n            case RoleService.anonymous():\n                return this.filterItemsByIds(items,\n                    ids.HOME)\n            default:\n                return []\n        }\n    }\n\n    getBottomToolBarItems = (role) => {\n        return role ? [\n            {\n                id: 'settings',\n                label: 'Настройки',\n                href: PathService.settings(),\n                faIcon: faCog,\n                forceShowIcon: true,\n            },\n        ] : []\n    }\n\n    filterItemsByIds = (items = [], ...ids) => {\n        return items.filter(it => ids.includes(it.id))\n    }\n}","import React from \"react\";\n\nimport classNames from \"classnames\"\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nimport \"./ToolBarItem.css\"\nimport {Link} from \"react-router-dom\";\n\nconst ToolBarItem = ({href, label, isActive, faIcon, forceShowIcon}) => {\n\n    const getClassNames = () =>\n        classNames('tool-bar-item', {\n                'active': isActive\n            }\n        )\n\n    return (\n        <Link to={href} className={getClassNames()}>\n            <FontAwesomeIcon icon={faIcon}/>{label}\n        </Link>\n    )\n}\n\nexport default ToolBarItem;","import React from \"react\";\nimport \"./ToolBarBrandItem.css\";\nimport classNames from \"classnames\";\n\nconst ToolBarBrandItem = ({appName = 'App'}) => {\n\n    const getClassNames = () =>\n        classNames('tool-bar-item', 'brand', 'noselect')\n\n    return (\n        <div className={getClassNames()}>\n            <span>{appName}</span>\n        </div>\n    )\n};\n\nexport default ToolBarBrandItem;","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport \"./ToolBarLogOutItem.css\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nconst ToolBarLogOutItem = ({label, faIcon, onClick, className}) => {\n    const getClassNames = () =>\n        classNames('tool-bar-item', 'tool-bar-log-out-item', ...className)\n\n    return (\n        <div className={getClassNames()} onClick={onClick}>\n            <FontAwesomeIcon icon={faIcon}/> {label}\n        </div>\n    )\n};\n\nexport default ToolBarLogOutItem","import React from \"react\";\nimport \"./StatusBar.css\";\n\nconst StatusBar = ({appInfo}) => {\n    return (\n        <div className=\"status-bar\">\n            <div className=\"left\">\n                v. {appInfo.version}\n            </div>\n        </div>\n    )\n};\n\nexport default StatusBar","import React from \"react\";\nimport \"./ToolBar.css\"\nimport PropTypes from 'prop-types';\nimport ToolBarItem from \"../ToolBarItem/ToolBarItem\";\nimport ToolBarBrandItem from \"../ToolBarBrandItem/ToolBarBrandItem\";\nimport ToolBarLogOutItem from \"../ToolBarLogOutItem/ToolBarLogOutItem\";\nimport {useLocation} from \"react-router-dom\";\nimport StatusBar from \"../../StatusBar/StatusBar\";\n\nconst ToolBar = (props) => {\n\n    const {\n        brandItemProps,\n        logOutItemProps,\n        statusBarProps,\n        topItems,\n        bottomItems,\n        isAuthenticated,\n        isPathActive,\n    } = props;\n\n    const activePath = useLocation().pathname;\n\n    const transformToolBarItems = (toolBarItems) =>\n        toolBarItems.map(itemProps =>\n            <ToolBarItem key={itemProps.id} {...itemProps} isActive={isPathActive(itemProps.href, activePath)}/>\n        );\n\n    return (\n        <div className=\"vertical-menu shadow\">\n\n            <ToolBarBrandItem {...brandItemProps} />\n            {\n                transformToolBarItems(topItems)\n            }\n            <div className=\"bottom-container\">\n                {\n                    transformToolBarItems(bottomItems)\n                }\n                {\n                    isAuthenticated ? <ToolBarLogOutItem {...logOutItemProps}/> : null\n                }\n                <StatusBar {...statusBarProps}/>\n            </div>\n        </div>\n    );\n};\n\nToolBar.propTypes = {\n    brandItemProps: PropTypes.object,\n    logOutItemProps: PropTypes.object,\n    isAuthenticated: PropTypes.bool,\n    topItems: PropTypes.arrayOf(PropTypes.object),\n    bottomItems: PropTypes.arrayOf(PropTypes.object),\n    appInfo: PropTypes.object,\n}\n\nexport default ToolBar;","import {createContext} from \"react\";\nimport RoleService from \"../services/Role/RoleService\";\n\nexport const UserDetailsContext = createContext({\n    username: '',\n    role: RoleService.anonymous(),\n});","import React from \"react\";\nimport {Breadcrumb} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\n\nconst NavigationBreadcrumb = ({items = []}) => {\n\n    if (!items || items.length === 0) {\n        return null\n    }\n\n    const transformedItems = items.map((it, i) => (\n        <Breadcrumb.Item active={i === items.length - 1}\n                         key={i}\n                         linkAs={Link}\n                         linkProps={{to: it.href}}>{it.label}</Breadcrumb.Item>\n    ))\n\n    return (\n        <Breadcrumb>\n            {\n                transformedItems\n            }\n        </Breadcrumb>\n    )\n}\n\nexport default NavigationBreadcrumb","import React from \"react\";\n\nimport \"./DefaultPage.css\"\nimport NavigationBreadcrumb from \"../NavigationBreadcrumb/NavigationBreadcrumb\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCheck} from \"@fortawesome/free-solid-svg-icons\";\n\nconst DefaultPage = ({title, icon, breadcrumbItems = [], children}) => {\n    return (\n        <div className=\"default-page\">\n\n            {\n                title ? (\n                    <div className=\"title\">\n                        <h2>\n                            <span className=\"text-primary\">\n                                <FontAwesomeIcon icon={icon || faCheck}/>\n                            </span> {title}\n                        </h2>\n                    </div>\n                ) : null\n            }\n\n            {\n                breadcrumbItems.length ? (\n                    <div className=\"mt-4\">\n                        <NavigationBreadcrumb items={breadcrumbItems}/>\n                    </div>\n                ) : null\n            }\n\n            {children}\n        </div>\n    )\n};\n\nexport default DefaultPage","import React from \"react\";\n\nimport \"./Panel.css\";\n\nconst Panel = ({children}) => {\n    return (\n        <div className=\"panel\">\n            {\n                children\n            }\n        </div>\n    )\n}\n\nexport default Panel;","import Auth from '../services/Auth/AuthService';\nimport PathService from \"../services/Path/PathService\";\n\nexport const checkResponseStatus = response => {\n    if (response.status >= 200 && response.status < 300) {\n        return response.json()\n    } else {\n        let error = new Error(response.statusText);\n        error.response = response;\n        throw error;\n    }\n};\n\nexport const loginResponseHandler = response => {\n    Auth.writeToken(response);\n    window.location.pathname = PathService.home()\n};","export const headers = () => {\n    return {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.auth ? JSON.parse(localStorage.auth).access_token : null}`\n    }\n}","import {SERVER_URL} from \"../../config/config\";\nimport {headers} from \"../../utils/headers\";\nimport {checkResponseStatus} from \"../../handlers/responseHandlers\";\n\nexport default {\n\n    testConnection(setConnected, showLoader, delay = 0) {\n        console.log('Test connection..')\n\n        const testConnectionInternal = () => {\n            const onSuccess = () => {\n                setConnected(true);\n                console.log('Connected to server.')\n            };\n\n            const onError = error => {\n                setConnected(false);\n                console.error('Not connected to server. Error:', error)\n            }\n\n            fetch(buildUri('/api/testConnection'), {\n                headers: headers()\n            }).then(onSuccess)\n                .catch(onError);\n        }\n\n        if (delay > 0) {\n            showLoader();\n\n            setTimeout(() => {\n                testConnectionInternal()\n            }, delay);\n\n        } else {\n            testConnectionInternal()\n        }\n    },\n\n    pathNames() {\n        return {\n            login: '/api/login',\n            refreshToken: '/oauth/access_token'\n        }\n    },\n\n    getClients() {\n        return _getResource(buildUri('/api/client'))\n    },\n\n    getClient(id) {\n        return _getResource(buildUri(`/api/client/${id}`))\n    },\n\n    saveClient(client) {\n        return fetchWrapper(buildUri('/api/client/'), {\n            method: 'post',\n            body: JSON.stringify(client)\n        }).then(checkResponseStatus)\n    },\n\n    updateClient(id, client) {\n        return fetchWrapper(buildUri(`/api/client/${id}`), {\n            method: 'put',\n            body: JSON.stringify(client)\n        }).then(checkResponseStatus)\n    }\n};\n\nexport const buildUri = (path, serverUrl = SERVER_URL) => {\n    return `${serverUrl}${path}`\n};\n\nexport const fetchWrapper = async function (uri, init = {}) {\n    init.headers = {...init.headers, ...headers()}\n    const response = await fetch(uri, init)\n    if (response.ok) {\n        return response;\n    }\n    throw new Error('Network response was not ok.');\n}\n\nconst _getResource = async (uri) => {\n    try {\n        const response = await fetchWrapper(uri)\n\n        return response.json()\n    } catch (e) {\n        throw e\n    }\n};","export const defaultErrorHandler = (error, handler) => {\n    console.error(error);\n\n    if (handler) {\n        handler.call();\n    }\n};","import {checkResponseStatus, loginResponseHandler} from \"../../handlers/responseHandlers\";\nimport * as qs from \"qs\";\nimport ApiService, {buildUri, fetchWrapper} from \"../Api/ApiService\";\nimport {defaultErrorHandler} from \"../../handlers/errorHandlers\";\nimport RoleService from \"../Role/RoleService\";\n\nconst {login: URI_LOGIN, refreshToken: URI_REFRESH_TOKEN} = ApiService.pathNames()\n\nexport default {\n\n    getRole() {\n        const authObject = JSON.parse(localStorage.auth);\n        const anonymousRole = RoleService.anonymous()\n        if (authObject && authObject.roles) {\n            const {roles} = authObject;\n            if (Array.isArray(roles) && roles.length > 0) {\n                return RoleService.isRoleValid(roles[0]) ? roles[0] : anonymousRole;\n            }\n        }\n\n        return null;\n    },\n\n    login(userDetails) {\n        fetch(buildUri(URI_LOGIN), {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(userDetails)\n        }).then(checkResponseStatus)\n            .then(loginResponseHandler)\n            .catch(defaultErrorHandler);\n    },\n\n    writeToken(auth) {\n        localStorage.auth = JSON.stringify(auth);\n    },\n\n    removeToken() {\n        delete localStorage.auth;\n    },\n\n    checkIsTokenExists() {\n        return !!localStorage.auth\n    },\n\n    refreshToken() {\n        return fetch(buildUri(URI_REFRESH_TOKEN), {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n            },\n            body: qs.stringify({\n                grant_type: 'refresh_token',\n                refresh_token: JSON.parse(localStorage.auth).refresh_token\n            })\n        }).then(checkResponseStatus)\n            .then(this.writeToken)\n            .catch(() => {\n                throw new Error(\"Unable to refresh!\")\n            })\n    },\n\n    checkAuthEndpoint() {\n        return fetchWrapper(buildUri('/api/checkAuth'))\n    }\n};","import {createContext} from \"react\";\n\nexport const PathServiceContext = createContext(null)","import React, {useContext} from \"react\";\nimport {Redirect, Route} from \"react-router-dom\";\nimport {UserDetailsContext} from \"../../contexts/UserDetailsContext\";\nimport {PathServiceContext} from \"../../contexts/PathServiceContext\";\n\nconst RouteWrapper = ({children, roles, ...rest}) => {\n\n    const userDetails = useContext(UserDetailsContext);\n    const PathService = useContext(PathServiceContext);\n\n    const isRoleAppropriate = (role, roles) => roles.includes(role);\n\n    return (\n        <Route\n            {...rest}\n            render={({location}) =>\n                isRoleAppropriate(userDetails.role, roles) ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: PathService.login(),\n                            state: {from: location}\n                        }}\n                    />\n                )\n            }\n        />\n    );\n\n};\n\nexport default RouteWrapper\n\nRouteWrapper.defaultProps = {\n    roles: [],\n}","import React from \"react\";\nimport \"./LoginForm.css\";\nimport DefaultPage from \"../DefaultPage/DefaultPage\";\nimport {Button, Form} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\n\nconst LoginForm = (props) => {\n    const {\n        title,\n        onSubmit,\n        recoverPasswordPathname,\n        userDetails,\n        onInputChange\n    } = props;\n\n    return (\n        <DefaultPage>\n            <div className=\"login-form shadow\">\n\n                <div className=\"title\">\n                    <h2>{title}</h2>\n                </div>\n\n                <Form onSubmit={onSubmit}>\n                    <Form.Group controlId=\"username\">\n                        <Form.Label>Введите имя пользователя:</Form.Label>\n                        <Form.Control type=\"text\"\n                                      name=\"username\"\n                                      value={userDetails.username}\n                                      onChange={onInputChange}\n                                      autoComplete=\"username\"\n                                      placeholder=\"Имя пользователя\"/>\n                        <Form.Text className=\"text-muted\">\n                            Мы заботимся о конфеденциальности Ваших данных.\n                        </Form.Text>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"password\">\n                        <Form.Label>Введите пароль:</Form.Label>\n                        <Form.Control type=\"password\"\n                                      name=\"password\"\n                                      value={userDetails.password}\n                                      onChange={onInputChange}\n                                      autoComplete=\"current-password\"\n                                      placeholder=\"Пароль\"/>\n                        <Form.Text>\n                            <Link to={recoverPasswordPathname}>Забыли пароль?</Link>\n                        </Form.Text>\n                    </Form.Group>\n\n                    <Button variant=\"primary\" type=\"submit\">\n                        Подтвердить\n                    </Button>\n                </Form>\n            </div>\n        </DefaultPage>\n    )\n}\n\nLoginForm.defaultProps = {\n    title: 'Login form',\n    onSubmit: (e) => e.preventDefault(),\n    recoverPasswordPathname: '/recoverPassword',\n    userDetails: {\n        username: '',\n        password: ''\n    },\n    onInputChange: () => {\n    }\n}\n\nexport default LoginForm","import React from \"react\";\nimport \"./ClientCard.css\";\nimport classNames from \"classnames\"\nimport {Link} from \"react-router-dom\";\n\nconst ClientCard = (props) => {\n    const {\n        id,\n        shortName,\n        paymentInfo = {},\n        webSite,\n        phone,\n        email,\n        isActive\n    } = props\n\n    const className = classNames('client-card', 'shadow', {\n        'active': isActive\n    })\n\n    return (\n        <div className={className}>\n            <div className=\"title\">\n                <Link to={`${id}`}>\n                    <h3>{shortName}</h3>\n                </Link>\n            </div>\n            <hr/>\n            <div className=\"body\">\n                <div className=\"item\">\n                    УНП: {paymentInfo.payerAccountNumber}\n                </div>\n                <div className=\"item\">\n                    Тел.: <a href={`tel:${phone}`}>{phone}</a>\n                </div>\n                <div className=\"item\">\n                    E-mail: <a href={`mailto:${email}`}>{email}</a>\n                </div>\n                <div className=\"item\">\n                    Веб-сайт: <a href={webSite}>{webSite}</a>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ClientCard\n","import React from \"react\";\nimport {Col, Row} from \"react-bootstrap\";\n\nconst RowDataTransformer = ({data = [], CardComponent}) => {\n\n    const reshapeDataArr = (data) => {\n        let resultArr = [];\n\n        if (Array.isArray(data)) {\n            let dataArrCopy = [...data]\n            while (dataArrCopy.length) {\n                resultArr.push(dataArrCopy.splice(0, 3))\n            }\n        }\n\n        return resultArr;\n    }\n\n    const transformDataArr = (data) => {\n        return reshapeDataArr(data).map((row, i) => (\n            <Row key={i}>\n                {\n                    row.map((col, i) => (\n                        <Col key={i} lg={4}>\n                            <CardComponent key={col.id} {...col}/>\n                        </Col>\n                    ))\n                }\n            </Row>\n        ))\n    };\n\n    return (\n        <>{transformDataArr(data)}</>\n    )\n};\n\nexport default RowDataTransformer","import React from \"react\";\n\nimport \"./Loader.css\"\nimport loaderIcon from \"./Dual Ball-0.9s-200px.svg\"\n\nconst Loader = () => {\n    return (\n        <div className=\"loader\">\n            <img src={loaderIcon} alt=\"loading..\"/>\n        </div>\n    )\n};\n\nexport default Loader","import React from \"react\";\nimport \"./Error.css\";\nimport {Alert} from \"react-bootstrap\";\nimport DefaultPage from \"../DefaultPage/DefaultPage\";\nimport {faExclamationCircle} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nconst Error = ({title, text, redirectPath}) => {\n    return (\n        <DefaultPage>\n            <div className=\"error\">\n                <Alert variant=\"danger\">\n                    <Alert.Heading>\n                        <FontAwesomeIcon icon={faExclamationCircle}/> {title}\n                    </Alert.Heading>\n                    <p>\n                        {\n                            text\n                        }\n                        {\n                            redirectPath ?\n                                <>\n                                    <hr/>\n                                    <div>\n                                        Вы можете вернуться на <Alert.Link\n                                        href={redirectPath}>главную</Alert.Link> страницу.\n                                    </div>\n                                </> : null\n                        }\n                    </p>\n                </Alert>\n            </div>\n        </DefaultPage>\n    );\n}\n\nError.defaultProps = {\n    title: \"Произошла неизвестная ошибка.\",\n    text: `Наша команда уже работает над решением возникшей проблемы.`,\n    redirectPath: '/'\n}\n\nexport default Error","import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport Loader from \"../Loader/Loader\";\nimport PropTypes from \"prop-types\";\nimport Error from \"../Error/Error\";\n\nconst WithDataWrapper = (props) => {\n\n    const {getData, filterData, Component} = props\n\n    const [data, setData] = useState(null)\n    const [hasLoaded, setLoaded] = useState(false)\n    const [hasError, setError] = useState(false)\n\n    const {id} = useParams()\n\n    const onSuccess = (data) => {\n        setLoaded(true)\n        setError(false)\n        setData(data)\n    }\n\n    const onError = (error) => {\n        console.error(error)\n        setLoaded(true)\n        setError(true)\n    }\n\n    const getDataWrapper = () => {\n        if (id) {\n            getData(id)\n                .then(onSuccess)\n                .catch(onError)\n        } else {\n            getData()\n                .then(onSuccess)\n                .catch(onError)\n        }\n    }\n\n    const reload = () => {\n        getDataWrapper()\n    }\n\n    useEffect(() => {\n        const onSuccess = (data) => {\n            setLoaded(true)\n            setError(false)\n            setData(data)\n        }\n\n        const onError = (error) => {\n            console.error(error)\n            setLoaded(true)\n            setError(true)\n        }\n\n        if (id) {\n            getData(id)\n                .then(onSuccess)\n                .catch(onError)\n        } else {\n            getData()\n                .then(onSuccess)\n                .catch(onError)\n        }\n\n    }, [getData, id])\n\n    if (!hasLoaded || !data) {\n        return <Loader/>\n    }\n\n    if (hasError) {\n        return <Error/>\n    }\n\n    return (\n        <Component {...props}\n                   reload={reload}\n                   data={filterData(data)}/>\n    )\n}\n\nWithDataWrapper.propTypes = {\n    getData: PropTypes.func,\n    filterData: PropTypes.func,\n    Component: PropTypes.elementType\n}\n\nWithDataWrapper.defaultProps = {\n    filterData: (data) => data\n}\n\nexport default WithDataWrapper;\n\n","import React, {useContext} from \"react\";\nimport \"./ClientsPage.css\";\nimport DefaultPage from \"../DefaultPage/DefaultPage\";\nimport ClientCard from \"../ClientCard/ClientCard\";\nimport RowDataTransformer from \"../RowDataContainer/RowDataTransformer\";\nimport PropTypes from \"prop-types\";\nimport WithDataWrapper from \"../WithDataWrapper/WithDataWrapper\";\nimport {PathServiceContext} from \"../../contexts/PathServiceContext\";\nimport {faWallet} from \"@fortawesome/free-solid-svg-icons\";\n\nconst ClientsPage = (props) => {\n    const {\n        title,\n        filterData,\n        getData\n    } = props\n\n    const PathService = useContext(PathServiceContext)\n\n    return (\n        <DefaultPage title={title}\n                     icon={faWallet}\n                     breadcrumbItems={[\n                         PathService.breadcrumbs().home(),\n                         PathService.breadcrumbs().clients(),\n                     ]}>\n            <div className=\"clients-page\">\n\n                <WithDataWrapper\n                    getData={getData}\n                    filterData={filterData}\n                    Component={RowDataTransformer}\n                    CardComponent={ClientCard}\n                />\n\n            </div>\n        </DefaultPage>\n    )\n}\n\nClientsPage.propTypes = {\n    title: PropTypes.string,\n    data: PropTypes.array,\n}\n\nClientsPage.defaultProps = {\n    title: '',\n    data: [],\n}\n\nexport default ClientsPage\n\n\n","import React, {useContext} from \"react\";\nimport \"./HomePage.css\";\nimport DefaultPage from \"../DefaultPage/DefaultPage\";\nimport {PathServiceContext} from \"../../contexts/PathServiceContext\";\nimport {faHome} from \"@fortawesome/free-solid-svg-icons\";\nimport {Jumbotron} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\n\nconst HomePage = ({title}) => {\n    const PathService = useContext(PathServiceContext);\n\n    return (\n        <DefaultPage title={title}\n                     icon={faHome}\n                     breadcrumbItems={[PathService.breadcrumbs().home()]}>\n            <div className=\"home-page\">\n                <div className=\"text-light\">\n                    <Jumbotron>\n                        <h1>Добро пожаловать!</h1>\n                        <p>\n                            This is a simple hero unit, a simple jumbotron-style component for calling\n                            extra attention to featured content or information.\n                        </p>\n                        <p>\n                            <Link className=\"btn btn-lg btn-success\" to={PathService.login()}>Войти</Link>\n                        </p>\n                    </Jumbotron>\n                </div>\n\n            </div>\n        </DefaultPage>\n    )\n}\n\nexport default HomePage","import React from \"react\";\nimport \"./ClientInfo.css\";\nimport Loader from \"../Loader/Loader\";\n\nconst WithClientInfoWrapper = (props) => {\n    const {id = '', data, title = '', Component} = props;\n    const buildId = (postfix, prefix = id) => prefix + postfix;\n\n    if (!data) {\n        return <Loader/>\n    }\n\n    return (\n        <div className=\"client-info\">\n            <div className=\"title\">\n                <h4>\n                    {title}\n                </h4>\n            </div>\n            <Component buildId={buildId} {...props}/>\n        </div>\n    )\n}\n\nexport default WithClientInfoWrapper","import React from \"react\";\nimport {Col, Form} from \"react-bootstrap\";\n\nconst ClientGeneralInfo = ({data, readonly, onInputChange}) => {\n    return (\n        <div className=\"client-general-info\">\n            <Form.Row>\n                <Form.Group as={Col} lg={4} controlId=\"shortName\">\n                    <Form.Label>Краткое наименование</Form.Label>\n                    <Form.Control name=\"shortName\"\n                                  required\n                                  value={data.shortName}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Введите краткое наименование\"/>\n                </Form.Group>\n\n                <Form.Group as={Col} controlId=\"fullName\">\n                    <Form.Label>Полное наименование</Form.Label>\n                    <Form.Control name=\"fullName\"\n                                  required\n                                  value={data.fullName}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Введите полное наименование\"/>\n                </Form.Group>\n            </Form.Row>\n\n            <Form.Row>\n                <Form.Group as={Col} controlId=\"email\">\n                    <Form.Label>Email</Form.Label>\n                    <Form.Control name=\"email\"\n                                  value={data.email}\n                                  disabled={readonly}\n                                  type=\"email\"\n                                  onChange={onInputChange}\n                                  placeholder=\"Введите email\"/>\n                </Form.Group>\n\n                <Form.Group as={Col} controlId=\"phone\">\n                    <Form.Label>Телефон</Form.Label>\n                    <Form.Control name=\"phone\"\n                                  required\n                                  value={data.phone}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Телефон\"/>\n                </Form.Group>\n\n                <Form.Group as={Col} controlId=\"fax\">\n                    <Form.Label>Факс</Form.Label>\n                    <Form.Control name=\"fax\"\n                                  value={data.fax}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Факс\"/>\n                </Form.Group>\n            </Form.Row>\n        </div>\n    )\n}\n\nexport default ClientGeneralInfo","import React from \"react\";\nimport {Col, Form} from \"react-bootstrap\";\nimport countryList from \"react-select-country-list\";\n\nconst ClientAddressInfo = ({data, buildId, onInputChange, readonly}) => {\n    const countries = countryList().getData() || []\n\n    return (\n        <div className=\"client-address-info\">\n            <Form.Group controlId={buildId(\"addressString\")}>\n                <Form.Label>Адрес</Form.Label>\n                <Form.Control\n                    name=\"addressString\"\n                    required\n                    value={data.addressString}\n                    disabled={readonly}\n                    onChange={onInputChange}\n                    placeholder=\"Введите адрес\"/>\n            </Form.Group>\n\n            <Form.Row>\n                <Form.Group as={Col} controlId={buildId(\"city\")}>\n                    <Form.Label>Город</Form.Label>\n                    <Form.Control\n                        name=\"city\"\n                        value={data.city}\n                        required\n                        disabled={readonly}\n                        onChange={onInputChange}\n                        placeholder=\"Введите город\"\n                    />\n                </Form.Group>\n\n                <Form.Group as={Col} controlId={buildId(\"countryISO2code\")}>\n                    <Form.Label>Страна</Form.Label>\n                    <Form.Control as=\"select\"\n                                  required\n                                  name=\"countryISO2code\"\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  value={data.countryISO2code}>\n                        {\n                            countries.map((it, i) => (\n                                <option key={i} value={it.value}>{it.label}</option>\n                            ))\n                        }\n                    </Form.Control>\n                </Form.Group>\n\n                <Form.Group as={Col} lg={3} controlId={buildId(\"postcode\")}>\n                    <Form.Label>Индекс</Form.Label>\n                    <Form.Control\n                        name=\"postcode\"\n                        required\n                        value={data.postcode}\n                        disabled={readonly}\n                        onChange={onInputChange}\n                        placeholder=\"Индекс\"/>\n                </Form.Group>\n            </Form.Row>\n        </div>\n    )\n}\n\nexport default ClientAddressInfo","import React from \"react\";\nimport {Col, Form} from \"react-bootstrap\";\n\nconst ClientPaymentInfo = ({data, onInputChange, readonly}) => {\n    return (\n        <div className=\"client-payment-info\">\n            <Form.Row>\n                <Form.Group as={Col} controlId=\"bankName\">\n                    <Form.Label>Наименование банка</Form.Label>\n                    <Form.Control name=\"bankName\"\n                                  required\n                                  value={data.bankName}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Введите наименование банка\"/>\n                </Form.Group>\n\n                <Form.Group as={Col} lg={4} controlId=\"bankIdentificationCode\">\n                    <Form.Label>БИК</Form.Label>\n                    <Form.Control name=\"bankIdentificationCode\"\n                                  required\n                                  value={data.bankIdentificationCode}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Введите БИК\"/>\n                </Form.Group>\n            </Form.Row>\n\n            <Form.Row>\n                <Form.Group as={Col} controlId=\"payerAccountNumber\">\n                    <Form.Label>Уникальный номер плательщика (УНП)</Form.Label>\n                    <Form.Control name=\"payerAccountNumber\"\n                                  required\n                                  value={data.payerAccountNumber}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Введите УНП\"/>\n                </Form.Group>\n\n                <Form.Group as={Col} controlId=\"checkingAccountNumber\">\n                    <Form.Label>Рассчетный счёт</Form.Label>\n                    <Form.Control name=\"checkingAccountNumber\"\n                                  required\n                                  value={data.checkingAccountNumber}\n                                  disabled={readonly}\n                                  onChange={onInputChange}\n                                  placeholder=\"Введите рассчетный счёт\"/>\n                </Form.Group>\n            </Form.Row>\n        </div>\n    )\n}\n\nexport default ClientPaymentInfo","import React from \"react\";\nimport {OverlayTrigger, Tooltip} from \"react-bootstrap\";\n\nconst TooltipWrapper = ({id, label, placement = 'top', delay = {show: 50, hide: 50}, children}) => {\n    const generateRandomId = () => {\n        return Math.round(Math.random() * 10)\n    }\n\n    if (!label) {\n        return children\n    }\n\n    return (\n        <OverlayTrigger\n            placement={placement}\n            delay={delay}\n            overlay={\n                <Tooltip id={id || generateRandomId()}>\n                    {label}\n                </Tooltip>\n            }>\n            {\n                children\n            }\n        </OverlayTrigger>\n    );\n}\n\nexport default TooltipWrapper","import React from \"react\";\nimport {Button, ButtonGroup} from \"react-bootstrap\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport TooltipWrapper from \"../TooltipWrapper/TooltipWrapper\";\n\nconst ButtonBar = ({buttons}) => {\n\n    return (\n        <div className=\"float-right\">\n            <ButtonGroup aria-label=\"Basic example\">\n                {\n                    buttons.map(btn => (\n                        <TooltipWrapper key={btn.id} label={btn.tooltip}>\n                            <Button {...btn}>\n                                <FontAwesomeIcon icon={btn.icon}/> {btn.label}\n                            </Button>\n                        </TooltipWrapper>\n                    ))\n                }\n            </ButtonGroup>\n        </div>\n    )\n}\n\nexport default ButtonBar","import React from \"react\";\nimport {Alert} from \"react-bootstrap\";\n\nconst AlertSuccess = ({title, setShow}) => {\n    return (\n        <Alert variant=\"success\"\n               onClose={() => setShow(false)}\n               dismissible>\n            <Alert.Heading>{title}</Alert.Heading>\n        </Alert>\n    )\n}\n\nexport default AlertSuccess","import React, {useEffect, useState} from \"react\";\nimport {Col, Form, Row} from \"react-bootstrap\";\nimport {faBan, faPen, faSave, faTrashAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport WithClientInfoWrapper from \"../ClientInfo/WithClientInfoWrapper\";\nimport ClientGeneralInfo from \"../ClientInfo/ClientGeneralInfo\";\nimport ClientAddressInfo from \"../ClientInfo/ClientAddressInfo\";\nimport ClientPaymentInfo from \"../ClientInfo/ClientPaymentInfo\";\nimport ButtonBar from \"../ButtonBar/ButtonBar\";\nimport ApiService from \"../../services/Api/ApiService\";\nimport AlertSuccess from \"../AlertSuccess/AlertSuccess\";\n\nconst ClientDetailsForm = ({data, reload, onMount}) => {\n\n    const modes = {\n        show: 'show',\n        edit: 'edit',\n        create: 'create'\n    }\n\n    const [generalInfo, setGeneralInfo] = useState(data)\n    const [legalAddressInfo, setLegalAddressInfo] = useState(data.legalAddress)\n    const [mailingAddressInfo, setMailingAddressInfo] = useState(data.mailingAddress)\n    const [paymentInfo, setPaymentInfo] = useState(data.paymentInfo)\n    const [mode, setMode] = useState(modes.show)\n    const [showAlertSuccess, setShowAlertSuccess] = useState(false)\n\n    useEffect(() => {\n        onMount(data)\n    }, [onMount, data])\n\n    const isShowMode = (modeName) => modes[modeName] && modes[modeName] === modes.show\n    const isEditMode = (modeName) => modes[modeName] && modes[modeName] === modes.edit\n    const isCreateMode = (modeName) => modes[modeName] && modes[modeName] === modes.create\n\n    const equals = (obj1, obj2) => {\n        return Object.entries(obj1).toString() === Object.entries(obj2).toString()\n    }\n\n    const clientNotChanged = () =>\n        equals(data, generalInfo) &&\n        equals(data.legalAddress, legalAddressInfo) &&\n        equals(data.mailingAddress, mailingAddressInfo) &&\n        equals(data.paymentInfo, paymentInfo)\n\n\n    const onSubmitWrapper = (e) => {\n        e.preventDefault()\n\n        const onSuccess = (json) => {\n            setShowAlertSuccess(true)\n            setMode(modes.show)\n            reload()\n            window.scrollTo(0, 0)\n        }\n\n        const onError = (error) => {\n            console.error(e)\n            setShowAlertSuccess(false)\n        }\n\n        if (!isShowMode(mode)) {\n            const client = {\n                ...generalInfo,\n                legalAddress: legalAddressInfo,\n                mailingAddress: mailingAddressInfo,\n                paymentInfo: paymentInfo\n            }\n\n            if (isCreateMode(mode)) {\n                console.debug('post')\n                ApiService.saveClient(client)\n                    .then(onSuccess)\n                    .catch(onError)\n\n            } else if (isEditMode(mode)) {\n                ApiService.updateClient(client.id, client)\n                    .then(onSuccess)\n                    .catch(onError)\n            }\n        }\n    }\n\n    const getButtons = () => {\n        if (isShowMode(mode)) {\n            return [\n                {\n                    id: 'edit',\n                    variant: 'outline-primary',\n                    type: 'button',\n                    icon: faPen,\n                    tooltip: '',\n                    label: 'Изменить',\n                    onClick: () => setMode(modes.edit),\n                },\n                {\n                    id: 'delete',\n                    variant: 'outline-danger',\n                    type: 'button',\n                    icon: faTrashAlt,\n                    tooltip: 'Удалить',\n                    label: '',\n                },\n            ]\n        } else {\n            return [\n                {\n                    id: 'edit',\n                    variant: \"primary\",\n                    type: \"submit\",\n                    icon: faSave,\n                    disabled: clientNotChanged(),\n                    tooltip: '',\n                    label: 'Сохранить',\n                },\n                {\n                    id: 'cancel',\n                    variant: \"outline-secondary\",\n                    type: \"reset\",\n                    icon: faBan,\n                    label: '',\n                    tooltip: 'Отменить',\n                    onClick: onCancel,\n                },\n            ]\n        }\n    }\n\n    const onCancel = () => {\n        setMode(modes.show)\n        setGeneralInfo(data)\n        setLegalAddressInfo(data.legalAddress)\n        setMailingAddressInfo(data.mailingAddress)\n        setPaymentInfo(data.paymentInfo)\n    }\n\n    const onInputChange = (target, object) => {\n        if (object.hasOwnProperty(target.name)) {\n            const objectCopy = {...object}\n            objectCopy[target.name] = target.value\n            return objectCopy\n        }\n        console.error('Unknown property', target.name, object)\n    }\n\n    const onGeneralInfoInputChange = ({target}) => {\n        const copy = onInputChange(target, generalInfo);\n        if (copy) {\n            setGeneralInfo(copy)\n        }\n    }\n\n    const onLegalAddressInfoInputChange = ({target}) => {\n        const copy = onInputChange(target, legalAddressInfo);\n        if (copy) {\n            setLegalAddressInfo(copy)\n        }\n    }\n\n    const onMailingAddressInfoInputChange = ({target}) => {\n        const copy = onInputChange(target, mailingAddressInfo);\n        if (copy) {\n            setMailingAddressInfo(copy)\n        }\n    }\n\n    const onPaymentInfoInputChange = ({target}) => {\n        const copy = onInputChange(target, paymentInfo);\n        if (copy) {\n            setPaymentInfo(copy)\n        }\n    }\n\n    const readonly = isShowMode(mode);\n\n    return (\n        <div className=\"client-details-view\">\n\n            {\n                showAlertSuccess ? (\n                    <AlertSuccess title=\"Данные успешно сохранены!\"\n                                  setShow={setShowAlertSuccess}/>\n                ) : null\n            }\n\n            <Form onSubmit={(e) => onSubmitWrapper(e)}>\n                <ButtonBar buttons={getButtons()}/>\n\n                <WithClientInfoWrapper\n                    title=\"Общая информация:\"\n                    data={generalInfo}\n                    readonly={readonly}\n                    onInputChange={onGeneralInfoInputChange}\n                    Component={ClientGeneralInfo}\n                />\n\n                <Row>\n                    <Col>\n                        <WithClientInfoWrapper\n                            title=\"Юридический адрес:\"\n                            id=\"legalAddress\"\n                            data={legalAddressInfo}\n                            readonly={readonly}\n                            onInputChange={onLegalAddressInfoInputChange}\n                            Component={ClientAddressInfo}\n                        />\n                    </Col>\n                    <Col>\n                        <WithClientInfoWrapper\n                            title=\"Почтовый адрес:\"\n                            id=\"mailingAddress\"\n                            data={mailingAddressInfo}\n                            readonly={readonly}\n                            onInputChange={onMailingAddressInfoInputChange}\n                            Component={ClientAddressInfo}\n                        />\n                    </Col>\n                </Row>\n\n                <WithClientInfoWrapper\n                    title=\"Платежная информация:\"\n                    id=\"paymentInfo\"\n                    data={paymentInfo}\n                    readonly={readonly}\n                    onInputChange={onPaymentInfoInputChange}\n                    Component={ClientPaymentInfo}\n                />\n            </Form>\n        </div>\n    )\n}\n\nexport default ClientDetailsForm","import React, {useContext, useState} from \"react\";\nimport \"./ClientDetails..css\";\nimport DefaultPage from \"../DefaultPage/DefaultPage\";\nimport WithDataWrapper from \"../WithDataWrapper/WithDataWrapper\";\nimport {PathServiceContext} from \"../../contexts/PathServiceContext\";\nimport ClientDetailsForm from \"../ClientDetailsForm/ClientDetailsForm\";\n\nconst ClientDetails = ({getData}) => {\n    const PathService = useContext(PathServiceContext);\n\n    const [title, setTitle] = useState('Загрузка...')\n    const [breadcrumbItems, setBreadcrumbItems] = useState([\n        PathService.breadcrumbs().home(),\n        PathService.breadcrumbs().clients(),\n        PathService.breadcrumbs().client('', 'Загрузка...'),\n    ])\n\n    const onViewMounted = ({id, shortName}) => {\n        if (title !== shortName) {\n            setTitle(shortName)\n        }\n\n        const breadcrumbItemsCopy = [...breadcrumbItems]\n        const indexOfLastElement = breadcrumbItemsCopy.length - 1;\n\n        if (breadcrumbItemsCopy[indexOfLastElement].label !== shortName) {\n            breadcrumbItemsCopy[indexOfLastElement] = PathService.breadcrumbs().client(id, shortName)\n            setBreadcrumbItems(breadcrumbItemsCopy)\n        }\n    }\n\n    return (\n        <DefaultPage title={title}\n                     breadcrumbItems={breadcrumbItems}>\n            <div className=\"client-details\">\n                <WithDataWrapper\n                    getData={getData}\n                    onMount={onViewMounted}\n                    Component={ClientDetailsForm}\n                />\n            </div>\n        </DefaultPage>\n    )\n}\n\nexport default ClientDetails","import React, {useEffect, useState} from \"react\";\nimport \"./App.css\";\nimport AppService from \"../../services/App/AppService\";\nimport ToolBar from \"../ToolBar/ToolBar/ToolBar\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {UserDetailsContext} from \"../../contexts/UserDetailsContext\"\nimport DefaultPage from \"../DefaultPage/DefaultPage\";\nimport Panel from \"../Panel/Panel\";\nimport AuthService from \"../../services/Auth/AuthService\";\nimport RouteWrapper from \"../RouteWrapper/RouteWrapper\";\nimport PathService from \"../../services/Path/PathService\";\nimport LoginForm from \"../LoginForm/LoginForm\";\nimport ClientsPage from \"../ClientsPage/ClientsPage\";\nimport ApiService from \"../../services/Api/ApiService\";\nimport {APP_NAME, CLIENT_VERSION} from \"../../config/config\";\nimport HomePage from \"../HomePage/HomePage\";\nimport ClientDetails from \"../ClientDetails/ClientDetails\";\nimport RoleService from \"../../services/Role/RoleService\";\nimport Loader from \"../Loader/Loader\";\nimport {PathServiceContext} from \"../../contexts/PathServiceContext\";\nimport {faBox, faCalendarAlt, faCog} from \"@fortawesome/free-solid-svg-icons\";\n\nconst App = () => {\n\n    const [userDetails, setUserDetails] = useState(AppService.getInitialUserDetails());\n    const [isAuthenticated, setAuthenticated] = useState(false);\n    const [isAuthCheckPerformed, setAuthCheckPerformed] = useState(false);\n\n    useEffect(() => {\n        const setUserRole = (role) => {\n            if (userDetails.role !== role) {\n                setUserDetails({...userDetails, role})\n            }\n        }\n\n        if (AuthService.checkIsTokenExists()) {\n            AuthService.checkAuthEndpoint()\n                .then(response => {\n                    setAuthenticated(true);\n                    setUserRole(AuthService.getRole());\n                    setAuthCheckPerformed(true);\n                })\n                .catch(e => {\n                    setAuthenticated(false);\n                    setUserRole(RoleService.anonymous());\n                    setAuthCheckPerformed(true);\n                    console.error('There has been a problem with your fetch operation: ', e.message);\n                })\n        } else {\n            setAuthCheckPerformed(true);\n            setAuthenticated(false);\n            setUserRole(RoleService.anonymous())\n        }\n\n    }, [userDetails])\n\n    const onLoginFormInputChange = ({target}) => {\n        const newUserDetails = {...userDetails}\n        newUserDetails[target.name] = target.value\n        setUserDetails(newUserDetails)\n    }\n\n    const onLoginFormSubmit = (event) => {\n        event.preventDefault()\n        AuthService.login(userDetails)\n    }\n\n    const onLogout = () => {\n        AuthService.removeToken();\n        setAuthenticated(false)\n        setUserDetails(AppService.getInitialUserDetails())\n    };\n\n    const filterClients = (dataArr) => {\n        return [...dataArr].sort(it => it.isActive ? -1 : 1)\n    }\n\n    if (!isAuthCheckPerformed) {\n        return <Loader/>\n    }\n\n    return (\n        <div className=\"app\">\n            <PathServiceContext.Provider value={PathService}>\n                <UserDetailsContext.Provider value={{\n                    username: userDetails.username,\n                    role: userDetails.role\n                }}>\n                    <BrowserRouter>\n\n                        <ToolBar {...AppService.getToolBarProps(\n                            isAuthenticated,\n                            userDetails,\n                            {\n                                name: APP_NAME,\n                                version: CLIENT_VERSION\n                            },\n                            onLogout,\n                        )}/>\n\n                        <Panel>\n                            <RouteWrapper path={PathService.login()}\n                                          roles={PathService.roles().login()}>\n                                <LoginForm\n                                    title=\"Авторизация\"\n                                    userDetails={userDetails}\n                                    onSubmit={onLoginFormSubmit}\n                                    onInputChange={onLoginFormInputChange}/>\n                            </RouteWrapper>\n\n                            <RouteWrapper exact path={PathService.home()}\n                                          roles={PathService.roles().home()}>\n                                <HomePage\n                                    title=\"Главная\"/>\n                            </RouteWrapper>\n\n                            <RouteWrapper exact path={PathService.clients()}\n                                          roles={PathService.roles().clients()}>\n                                <ClientsPage\n                                    title=\"Клиенты\"\n                                    getData={ApiService.getClients}\n                                    filterData={filterClients}/>\n                            </RouteWrapper>\n\n                            <RouteWrapper path={PathService.client()}\n                                          roles={PathService.roles().client()}>\n                                <ClientDetails getData={ApiService.getClient}/>\n                            </RouteWrapper>\n\n                            <RouteWrapper path={PathService.operations()}\n                                          roles={PathService.roles().operations()}>\n                                <DefaultPage\n                                    title=\"Операции\"\n                                    icon={faBox}\n                                    breadcrumbItems={[\n                                        PathService.breadcrumbs().home(),\n                                        PathService.breadcrumbs().operations()\n                                    ]}/>\n                            </RouteWrapper>\n\n                            <RouteWrapper path={PathService.workers()}\n                                          roles={PathService.roles().workers()}>\n                                <DefaultPage\n                                    title=\"Календарь\"\n                                    icon={faCalendarAlt}\n                                    breadcrumbItems={[\n                                        PathService.breadcrumbs().home(),\n                                        PathService.breadcrumbs().calendar()\n                                    ]}/>\n                            </RouteWrapper>\n\n                            <RouteWrapper path={PathService.settings()}\n                                          roles={PathService.roles().settings()}>\n                                <DefaultPage\n                                    title=\"Настройки\"\n                                    icon={faCog}\n                                    breadcrumbItems={[\n                                        PathService.breadcrumbs().home(),\n                                        PathService.breadcrumbs().settings()\n                                    ]}/>\n                            </RouteWrapper>\n\n                        </Panel>\n\n                    </BrowserRouter>\n                </UserDetailsContext.Provider>\n            </PathServiceContext.Provider>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './css/bootstrap.min.css'\nimport './index.css';\n\nReactDOM.render(<App/>, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/Dual Ball-0.9s-200px.248c6acf.svg\";"],"sourceRoot":""}